@import "compass/css3/border-radius"
@import "compass/css3/gradient"

$spacing: 10px
$main_width: 900px
$label_width: 150px
$label_margin: $spacing
$label_full_width: $label_width + $label_margin

$font_size: 14px
$a_size: $font_size - 2px
$h1_size: $font_size * 2

$bright_colour: white
$bg_colour: #ddd
$link_colour: #4B7399
$alert_dark: #933
$notice_dark: #396
$alert_light: #f33
$notice_light: #4CC417

$contents_height: 550px
$contents_padding_width: 2*$spacing
$contents_padding_height: 2*$spacing
$opinion_container_width: 300px
$opinion_container_height: 450px
$opinion_container_padding_width: 2*$spacing
$opinion_container_padding_height: 2*$spacing
$textarea_height: 100px
$textarea_width: 300px

@mixin custom_gradient($light, $dark, $corner: 10px)
  color: white
  font-weight: bold
  padding: 5px
  +border-radius($corner)
  +linear-gradient(color-stops($light, $dark))

@mixin container_base
  border: 1px solid black
  +border-radius($spacing)
  padding: $opinion_container_padding_height $opinion_container_padding_width

div.clear
  clear: both
  height: 0
  overflow: hidden

a
  color: $link_colour
  text-decoration: none
  font-size: $a_size

.bright
  color: $bright_colour 
form.bright
  a
    color: $bright_colour 
.shadow
  text-shadow: 1px 1px 1px black 
.right
  float: right

h1
  font-size: $h1_size
  margin-bottom: 2*$spacing

div#flash_notice
  float: left  
  margin-bottom: 5px
  padding: 3px 10px
  border: 1px solid black
  +custom_gradient($notice_light,$notice_dark)
div#flash_alert
  float: left
  margin-bottom: 5px
  padding: 3px 10px
  border: 1px solid black
  +custom_gradient($alert_light,$alert_dark)


form.inline
  li 
    float: left
    margin-right: 5px
form
  li
    list-style-type: none
    input
      width: 180px
    textarea
      width: $textarea_width
      height: $textarea_height
      resize: none
  input.submit
    margin-top: 5px
  li.block
    label
      display: block
    input
      display: block
  li.big
    textarea
      height: 400px
form#login
  a
    margin: 10px 5px 0 0

$frame_height: 450px
$frame_width: 300px
$frame_margin: 20px
$frame_container_width: $frame_width + 2*$frame_margin
div#container
  font: normal $font_size "Helvetica Neue", Arial, Helvetica, sans-serif
  width: $main_width
  margin: 4*$spacing auto
  div#contents
    //height: $contents_height
    padding: $contents_padding_height $contents_padding_width
    border: 1px solid black
    +border-radius($spacing)
    +linear-gradient(color-stops(white, $bg_colour 33%, white), left)
    div#frame_container
      margin-top: 5px
      float: left
      width: $frame_container_width
      border: 1px solid black
      +border-radius(10px)
      div#frame
        position: relative
        overflow: hidden
        height: $frame_height
        width: $frame_width
        margin: $frame_margin
        div#opinions
          position: absolute
          top: -5px
          div.opinion
            border-top: 1px solid gray
            padding: 5px 0
            list-style-type: none
            span#username
              font-weight: bold
              font-size: 14px
              a
                font-size: 14px
            span#name
              font-size: 12px
              color: gray
            span#ago
              font-size: 12px
              color: gray
          div.opinion:hover
            background: #eee
          div.movie
            margin-bottom: $frame_height
            border-top: none

    div#profile_container
      +container_base
    div#opinion_container
      //+container_base
      //height: $opinion_container_height
      ul#opinions
        width: 300px
        float: left
        li.opinion
          border-bottom: 1px solid gray
          padding: 5px 0
          list-style-type: none
          span#username
            font-weight: bold
            font-size: 14px
            a
              font-size: 14px
          span#name
            font-size: 12px
            color: gray
          span#ago
            font-size: 12px
            color: gray
        li:hover
          background: #eee
        li:last-child
          border-bottom: none
    div#my_opinion_container
      margin-top: 5px
      +container_base
      float: right
      div#my_opinion
        margin: 0
        padding: 0
        width: 300px
    div#form
      width: 350px
      float: right
      margin: 20px 20px 0 0
      form
        img
          margin-top: 10px
    div#user_nav
      height: 100px
      background: black url("/images/pano2.png")
      padding: 10px
      -webkit-animation: move-city-top 60s 5s infinite linear
      div#welcome
        display: block
        text-align: right
      img
        float: left
      form
        margin-top: 20px
        float: right
    form.list
      h1
        border-bottom: 1px dotted black
        margin-bottom: 10px
        margin-top: 10px
      h1.first
        margin-top: 0
      li.error
        //+linear-gradient(color-stops(white, $alert_dark 33%, white), left)
        background: gray
        p.inline-errors
          margin-left: $label_full_width
          color: white
          text-shadow: 1px 1px 1px black
      li
        list-style-type: none
        label
          float: left
          width: $label_width
          text-align: right
          margin: 2px $label_margin 0 0
      input.submit
        margin: $spacing/2 0 0 $label_full_width
      input.small_submit
        margin-top: $spacing

@-webkit-keyframes move-city-top
  from
    background-position: 0 0 
  to
    background-position: -1600px 0
